function shuffle(a){for(var b=a.length,c,d;0!==b;)d=Math.floor(Math.random()*b),--b,c=a[b],a[b]=a[d],a[d]=c;return a}
$.fn.trivia=function(){var a=this;a.userPick=null;a.answers={correct:0,incorrect:0};a.maxcount=20;a.count=a.maxcount;a.current=0;a.questions=[];a.ask=function(){if(a.questions[a.current]){$("#timer").text("00:"+("0"+a.count).slice(-2));$("#question_div").html(a.questions[a.current].word);$("#meaning").text(a.questions[a.current].meaning);$("#p-meaning").show();$(".question-index").text(a.current+1+"/"+a.questions.length);var b=a.questions[a.current].wrongAnswers;b.push(a.questions[a.current].correctAnswer);
b=shuffle(b);for(var c=0;c<b.length;c++){var d=$("<button>");d.text(b[c]);d.attr("data-id",c);d.attr("class","ui label");$("#choices_div").append(d)}window.triviaCounter=setInterval(a.timer,1E3)}else clearInterval(window.triviaCounter),$(".unanswered").text(a.questions.length-(a.answers.correct+a.answers.incorrect)),$("div#question_div").text(Math.round(a.answers.correct/a.questions.length*100)+"%"),$("#start_button").text("Restart").show()};a.timer=function(){a.count--;a.current>a.questions.length&&
clearInterval(window.triviaCounter);0>=a.count?setTimeout(function(){a.nextQ()}):$("#timer").text("00:"+("0"+a.count).slice(-2))};a.nextQ=function(){a.current<a.questions.length&&(a.current++,clearInterval(window.triviaCounter),$(".question-index").text(a.current+"/"+a.questions.length),$(".unanswered").text(a.current-(a.answers.correct+a.answers.incorrect)),a.count=a.maxcount,$("#timer").html("00:00"),setTimeout(function(){a.cleanUp();a.ask()},1E3))};a.cleanUp=function(){$("div#question_div").html("");
$("div#meaning").html("");$("div#choices_div").html("");$("#p-meaning").hide();$(".correct").html(a.answers.correct);$(".incorrect").html(a.answers.incorrect)};a.answer=function(b){b=b?"correct":"incorrect";a.answers[b]++;$("."+b).html(a.answers[b])};return a};var Trivia;
$("#start_button").click(function(){$(this).hide();$(".result").remove();$("div#question_div").html("");$("div#meaning").html("");$("div#choices_div").html("");$("#p-meaning").removeClass("ng-hide");Trivia=(new $(window)).trivia();var a=$("#my-load-more > div");a.addClass("active");$.get("/quiz.html",function(b){$("div#script").html(b);null!=quess&&(Trivia.questions=quess,Trivia.ask());a.removeClass("active")})});
$("#choices_div").on("click","button",function(a){a=$(this).text();var b=Trivia||$(window).trivia(),c=b.questions[b.current].correctAnswer;a!==c?($("#choices_div").html('<p style="color:#E38888"><i class="red close icon"></i> Sai r\u1ed3i! C\u00e2u tr\u1ea3 l\u1eddi \u0111\u00fang l\u00e0: <span style="color:#55C46F">'+c+"</span></p>"),b.answer(!1)):($("#choices_div").html('<p style="color:#55C46F"><i class="green check icon"></i> \u0110\u00fang!!! ('+c+")</p>"),b.answer(!0));b.nextQ()});